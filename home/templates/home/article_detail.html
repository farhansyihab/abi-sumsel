{% extends "base.html" %}
{% load wagtailcore_tags wagtailimages_tags static %}

{% block meta_tags %}
    <!-- Open Graph Meta Tags -->
    <meta property="og:url" content="{{ request.build_absolute_uri }}">
    <meta property="og:type" content="article">
    <meta property="og:title" content="{{ page.get_og_title }}">
    <meta property="og:description" content="{{ page.get_og_description }}">
    {% if page.get_og_image_url %}
    <meta property="og:image" content="{{ page.get_og_image_url }}">
    {% else %}
    <meta property="og:image" content="{% static 'img/logoabi.png' %}">
    {% endif %}
    <meta property="og:site_name" content="DPW ABI Sumatera Selatan">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="{{ page.get_og_title }}">
    <meta name="twitter:description" content="{{ page.get_og_description }}">
    {% if page.get_og_image_url %}
    <meta name="twitter:image" content="{{ page.get_og_image_url }}">
    {% endif %}
    
    <!-- Article Specific -->
    {% if page.date_published %}
    <meta property="article:published_time" content="{{ page.date_published|date:'c' }}">
    {% endif %}
    {% if page.category %}
    <meta property="article:section" content="{{ page.category.name }}">
    {% endif %}
{% endblock %}

{% block title %}{{ page.get_og_title }} | DPW ABI SUMSEL{% endblock %}

{% block content %}
<div class="container mt-4">
    <article>
        <header class="mb-4">
            <h1 class="display-4">{{ page.title }}</h1>
            {% if page.excerpt %}
            <p class="lead">{{ page.excerpt }}</p>
            {% endif %}
            <div class="text-muted">
                <small>
                    {% if page.date_published %}
                    Diterbitkan: {{ page.date_published|date:"d M Y" }}
                    {% endif %}
                    {% if page.category %}
                    | Kategori: {{ page.category.name }}
                    {% endif %}
                </small>
            </div>
        </header>
        
        {% if page.featured_image %}
        <div class="mb-4">
            {% image page.featured_image width-800 class="img-fluid rounded" %}
        </div>
        {% endif %}
        
        <div class="article-content">
            {% include_block page.body %}
        </div>
    </article>
</div>
{% endblock %}